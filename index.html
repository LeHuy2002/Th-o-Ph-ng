<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ch√∫c M·ª´ng Sinh Nh·∫≠t Th·∫£o Ph∆∞∆°ng</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
<style>
  body {
    background-color: pink;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
    text-align: center;
    overflow: hidden;
    position: relative;
    font-family: 'Inter', sans-serif; /* V·∫´n gi·ªØ font Inter */
  }

  button {
    padding: 15px 30px;
    font-size: 21px; /* 26px * 0.8 = 20.8px, l√†m tr√≤n 21px cho mobile */
    cursor: pointer;
    border: none;
    border-radius: 10px;
    background-color: white;
    color: black;
    font-weight: bold;
    background-image: linear-gradient(45deg, #FFDA63, #FF914D, #FF6363, #9400D3, #4B0082, #008080, #00BFFF, #8FBC8F);
    background-size: 400% 400%;
    animation: rainbow 5s infinite alternate;
    color: white;
    box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.3);
    position: relative;
    overflow: hidden;
    transition: transform 0.2s ease-in-out; /* Gi·ªØ hi·ªáu ·ª©ng di chu·ªôt */
  }

  button:hover {
    transform: scale(1.05);
  }

  button::before {
    content: "";
    position: absolute;
    top: -20px;
    left: -20px;
    width: calc(100% + 40px);
    height: calc(100% + 40px);
    background-image: url('duong_dan_den_hinh_anh_hoa_la.png'); /* ƒê√£ kh√¥i ph·ª•c ƒë∆∞·ªùng d·∫´n ·∫£nh g·ªëc */
    background-size: cover;
    opacity: 0.3;
    z-index: -1;
  }

  @keyframes rainbow {
    0% {
      background-position: 0% 50%;
    }
    100% {
      background-position: 100% 50%;
    }
  }

  #trang2 {
    display: none; /* Tr·ªü l·∫°i tr·∫°ng th√°i ban ƒë·∫ßu */
    margin-top: 20px;
    z-index: 10;
    position: relative;
  }

  #tieuDeSinhNhat {
    font-size: 25px; /* 31.2px * 0.8 = 24.96px, l√†m tr√≤n 25px cho mobile */
    color: purple;
    font-weight: bold;
    margin-bottom: 5px;
    text-shadow: 3px 3px 5px rgba(0, 0, 0, 0.5);
  }

  #ngaySinh {
    font-size: 16px; /* 19.5px * 0.8 = 15.6px, l√†m tr√≤n 16px cho mobile */
    color: blue;
    font-style: italic;
    margin-bottom: 5px;
    text-shadow: 2px 2px 3px rgba(0, 0, 0, 0.3);
  }

  #loiKhen {
    font-size: 11.5px; /* 14.3px * 0.8 = 11.44px, l√†m tr√≤n 11.5px cho mobile */
    color: #FF69B4;
    font-weight: bold;
    margin-bottom: 10px;
    text-shadow: 2px 2px 3px rgba(0, 0, 0, 0.3);
  }

  .loiChucSinhNhat {
    font-size: 9.5px; /* 11.7px * 0.8 = 9.36px, l√†m tr√≤n 9.5px cho mobile */
    color: black;
    line-height: 1.2;
    margin-bottom: 3px;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
  }

  /* ƒêi·ªÅu ch·ªânh k√≠ch th∆∞·ªõc ch·ªØ cho m√†n h√¨nh l·ªõn h∆°n (v√≠ d·ª•: tablet) */
  @media (min-width: 640px) {
    button {
      font-size: 23px; /* TƒÉng nh·∫π cho tablet */
    }
    #tieuDeSinhNhat {
      font-size: 28px; /* TƒÉng nh·∫π cho tablet */
    }
    #ngaySinh {
      font-size: 18px; /* TƒÉng nh·∫π cho tablet */
    }
    #loiKhen {
      font-size: 13px; /* TƒÉng nh·∫π cho tablet */
    }
    .loiChucSinhNhat {
      font-size: 11px; /* TƒÉng nh·∫π cho tablet */
    }
  }

  /* ƒêi·ªÅu ch·ªânh k√≠ch th∆∞·ªõc ch·ªØ cho m√†n h√¨nh desktop */
  @media (min-width: 1024px) {
    button {
      font-size: 26px; /* K√≠ch th∆∞·ªõc tr∆∞·ªõc ƒë√≥ (30% l·ªõn h∆°n so v·ªõi ban ƒë·∫ßu) */
    }
    #tieuDeSinhNhat {
      font-size: 31.2px; /* K√≠ch th∆∞·ªõc tr∆∞·ªõc ƒë√≥ (30% l·ªõn h∆°n so v·ªõi ban ƒë·∫ßu) */
    }
    #ngaySinh {
      font-size: 19.5px; /* K√≠ch th∆∞·ªõc tr∆∞·ªõc ƒë√≥ (30% l·ªõn h∆°n so v·ªõi ban ƒë·∫ßu) */
    }
    #loiKhen {
      font-size: 14.3px; /* K√≠ch th∆∞·ªõc tr∆∞·ªõc ƒë√≥ (30% l·ªõn h∆°n so v·ªõi ban ƒë·∫ßu) */
    }
    .loiChucSinhNhat {
      font-size: 11.7px; /* K√≠ch th∆∞·ªõc tr∆∞·ªõc ƒë√≥ (30% l·ªõn h∆°n so v·ªõi ban ƒë·∫ßu) */
    }
  }

  #audioNen {
    display: none;
  }

  #animation-canvas { /* Canvas duy nh·∫•t cho t·∫•t c·∫£ ho·∫°t ·∫£nh */
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 5;
    will-change: transform, opacity;
  }
</style>
</head>
<body>

<button id="nutBatNgo">Nh·∫•n v√† s·∫Ω c√≥ b·∫•t ng·ªù!</button>

<div id="trang2">
          <h1 id="tieuDeSinhNhat">Ch√∫c M·ª´ng Sinh Nh·∫≠t Th·∫£o Ph∆∞∆°ng</h1>
          <p id="ngaySinh">Ng√†y 11 Th√°ng 8</p>
          <p id="loiKhen">Ng√†y m√† m·ªôt thi√™n th·∫ßn d·ªÖ th∆∞∆°ng xinh ƒë·∫πp ƒë∆∞·ª£c sinh ra</p>
          <p class="loiChucSinhNhat">‚ò∫Ô∏èCh√∫c em sinh nh·∫≠t vui v·∫ª‚ò∫Ô∏è</p>
          <p class="loiChucSinhNhat">üòöCh√∫c m·ª´ng sinh nh·∫≠t t√¨nh y√™u c·ªßa anh! Em l√† t·∫•t c·∫£. Y√™u em h∆°n c·∫£ ng√†n l·ªùi n√≥iüòö.</p>
          <p class="loiChucSinhNhat">üòçCh√∫c em lu√¥n xinh ƒë·∫πp, r·∫°ng r·ª° nh∆∞ nh·ªØng ƒë√≥a hoa v√† ng·ªçt ng√†o nh∆∞ nh·ªØng vi√™n k·∫πoüòç.</p>
          <p class="loiChucSinhNhat">ü•∞Ch√∫c m·ª´ng sinh nh·∫≠t em nh√©! Anh th·∫≠t h·∫°nh ph√∫c khi ƒë∆∞·ª£c y√™u em. C·∫£m ∆°n em v√¨ t·∫•t c·∫£ü•∞.</p>
          <p class="loiChucSinhNhat">üòäG·ª≠i ƒë·∫øn em nh·ªØng l·ªùi ch√∫c t·ªët ƒë·∫πp nh·∫•t t·ª´ tr√°i tim!üòä</p>
          <p class="loiChucSinhNhat"> ‚ù§Ô∏èM√£i Y√™u Em‚ù§Ô∏è</p>
          <p class="loiChucSinhNhat">‚ù§Ô∏èY√™u Em H∆°n C·∫£ Ng√†n L·ªùi N√≥i‚ù§Ô∏è</p>
</div>

<audio id="audioNen" src="birthday.mp3"></audio>

<canvas id="animation-canvas"></canvas>

<script>
// Canvas v√† context, ƒë·∫∑t to√†n c·ª•c ƒë·ªÉ d·ªÖ truy c·∫≠p trong v√≤ng l·∫∑p ho·∫°t ·∫£nh
let animationCanvas;
let ctx;
let requestId; // ƒê·ªÉ l∆∞u tr·ªØ ID requestAnimationFrame cho vi·ªác h·ªßy b·ªè ti·ªÅm nƒÉng

// M·∫£ng ch·ª©a c√°c ƒë·ªëi t∆∞·ª£ng ho·∫°t ·∫£nh
const particles = [];
const fireworks = [];
const stars = [];
const hearts = [];
const balloons = [];

// C√°c h·∫±ng s·ªë cho ho·∫°t ·∫£nh
const gravity = 0.05; // Tr·ªçng l·ª±c
const fireworkColors = ['#FFD700', '#FF4500', '#00FF7F', '#1E90FF', '#BA55D3', '#FF69B4', '#FFFFFF']; // M√†u ph√°o hoa s√°ng h∆°n (Gold, OrangeRed, SpringGreen, DodgerBlue, MediumPurple, HotPink, White)
const starColors = ['red', 'orange', 'yellow', 'lime', 'blue', 'violet', 'white', 'gold', 'silver']; // M√†u sao ban ƒë·∫ßu
const heartColor = 'red'; // M√†u tr√°i tim ban ƒë·∫ßu (ch·ªâ h√†m v·∫Ω l√† m·ªõi)
const balloonColors = ['red', 'green', 'blue', 'yellow', 'purple', 'orange', 'cyan', 'magenta']; // M√†u bong b√≥ng ban ƒë·∫ßu

// --- H√†m h·ªó tr·ª£ v·∫Ω ---
function drawStar(ctx, x, y, radius, points) {
  ctx.beginPath();
  for (let i = 0; i < 2 * points; i++) {
    let angle = Math.PI * i / points;
    let r = (i % 2 === 0) ? radius : radius / 2;
    ctx.lineTo(x + r * Math.cos(angle), y + r * Math.sin(angle));
  }
  ctx.closePath();
  ctx.fill();
}

function drawHeart(ctx, x, y, size) {
  ctx.beginPath();
  const curveFactor = 0.3; // ƒêi·ªÅu ch·ªânh ƒë·ªô cong c·ªßa tr√°i tim

  ctx.moveTo(x, y + size * curveFactor);
  ctx.bezierCurveTo(
    x + size * 0.5, y - size * 0.5,
    x + size, y + size * curveFactor,
    x, y + size * 0.9
  );
  ctx.bezierCurveTo(
    x - size, y + size * curveFactor,
    x - size * 0.5, y - size * 0.5,
    x, y + size * curveFactor
  );
  ctx.closePath();
  ctx.fill();
}

// --- L·ªõp ƒë·ªëi t∆∞·ª£ng c∆° b·∫£n ---
class BaseObject {
    constructor(x, y, color, speedX, speedY, alpha, decay, size) {
        this.x = x;
        this.y = y;
        this.color = color;
        this.speedX = speedX;
        this.speedY = speedY;
        this.alpha = alpha;
        this.decay = decay;
        this.size = size;
    }

    update() {
        this.x += this.speedX;
        this.y += this.speedY;
        this.alpha -= this.decay;
    }

    isDead() {
        return this.alpha <= 0.05;
    }
}

// --- L·ªõp h·∫°t (Particle) ---
class Particle extends BaseObject {
    constructor(x, y, color, size = Math.random() * 1.5 + 0.5, speedX = (Math.random() - 0.5) * 1.5, speedY = Math.random() * -5 - 2, alpha = 1, decay = Math.random() * 0.04 + 0.015) {
        super(x, y, color, speedX, speedY, alpha, decay, size);
    }

    update() {
        super.update();
        this.speedY += gravity;
    }

    draw() {
        ctx.save();
        ctx.globalAlpha = this.alpha;
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.closePath();
        ctx.fill();
        ctx.restore();
    }

    isDead() {
        return super.isDead() || this.y > animationCanvas.height + this.size;
    }
}

// --- L·ªõp ph√°o hoa (Firework) ---
class Firework {
    constructor(x, y, color) {
        this.x = x;
        this.y = y;
        this.color = color;
        this.particleCount = Math.floor(Math.random() * 40 + 40);
        this.exploded = false;
        this.hasTrails = Math.random() < 0.7;
        this.trail = [];
        this.speedY = Math.random() * -4 - 3; // TƒÉng t·ªëc ƒë·ªô bay l√™n m·∫°nh h∆°n
    }

    explode() {
        if (!this.exploded) {
            for (let i = 0; i < this.particleCount; i++) {
                const angle = Math.random() * Math.PI * 2;
                const speed = Math.random() * 4 + 1.5;
                const speedX = Math.cos(angle) * speed;
                const speedY = Math.sin(angle) * speed;
                particles.push(new Particle(this.x, this.y, this.color, undefined, speedX, speedY));
            }
            this.exploded = true;
        }
    }

    update() {
        if (!this.exploded) {
            this.y += this.speedY;
            if (this.hasTrails) {
                this.trail.push({ x: this.x, y: this.y });
                if (this.trail.length > 6) {
                    this.trail.shift();
                }
            }
            // TƒÉng ng∆∞·ª°ng n·ªï v√† tƒÉng x√°c su·∫•t n·ªï s·ªõm
            if (this.y < animationCanvas.height * 0.2 || Math.random() < 0.06) { // N·ªï ·ªü 20% chi·ªÅu cao ho·∫∑c 6% c∆° h·ªôi
                this.explode();
            }
        }
    }

    draw() {
        if (!this.exploded) {
            if (this.hasTrails && this.trail.length > 1) {
                ctx.beginPath();
                ctx.moveTo(this.trail[0].x, this.trail[0].y);
                for (let i = 1; i < this.trail.length; i++) {
                    ctx.lineTo(this.trail[i].x, this.trail[i].y);
                }
                ctx.strokeStyle = this.color;
                ctx.lineWidth = 1.5; // TƒÉng ƒë·ªô d√†y v·ªát s√°ng ƒë·ªÉ s√°ng h∆°n
                ctx.stroke();
            }
            ctx.fillStyle = this.color;
            ctx.beginPath();
            ctx.arc(this.x, this.y, 2, 0, Math.PI * 2); // TƒÉng nh·∫π k√≠ch th∆∞·ªõc ch·∫•m ph√°o hoa bay l√™n
            ctx.closePath();
            ctx.fill();
        }
    }

    isDead() {
        return this.exploded && particles.filter(p => p.color === this.color && !p.isDead()).length === 0;
    }
}

// --- L·ªõp ng√¥i sao (Star) ---
class Star extends BaseObject {
    constructor() {
        const x = Math.random() * animationCanvas.width;
        const y = -Math.random() * animationCanvas.height;
        const size = Math.random() * 6 + 3;
        const speed = Math.random() * 1.5 + 0.3;
        const color = starColors[Math.floor(Math.random() * starColors.length)];
        const alpha = Math.random() * 0.6 + 0.4;
        super(x, y, color, 0, speed, alpha, 0, size);
        this.rotation = Math.random() * Math.PI * 2;
        this.rotationSpeed = Math.random() * 0.05 - 0.025;
    }

    update() {
        super.update();
        this.rotation += this.rotationSpeed;
        if (this.y > animationCanvas.height + this.size) {
            this.y = -this.size;
            this.x = Math.random() * animationCanvas.width;
            this.alpha = Math.random() * 0.6 + 0.4;
            this.speedY = Math.random() * 1.5 + 0.3;
        }
    }

    draw() {
        ctx.save();
        ctx.translate(this.x, this.y);
        ctx.rotate(this.rotation);
        ctx.globalAlpha = this.alpha;
        ctx.fillStyle = this.color;
        drawStar(ctx, 0, 0, this.size / 2, 5);
        ctx.restore();
    }

    isDead() {
        return false;
    }
}

// --- L·ªõp tr√°i tim (Heart) ---
class Heart extends BaseObject {
    constructor() {
        const x = Math.random() * animationCanvas.width;
        const y = -Math.random() * animationCanvas.height;
        const size = Math.random() * 15 + 8;
        const speed = Math.random() * 1 + 0.3;
        const alpha = Math.random() * 0.7 + 0.3;
        super(x, y, heartColor, 0, speed, alpha, 0, size);
        this.rotation = Math.random() * Math.PI * 2;
        this.rotationSpeed = Math.random() * 0.05 - 0.025;
    }

    update() {
        super.update();
        this.rotation += this.rotationSpeed;
        if (this.y > animationCanvas.height + this.size) {
            this.y = -this.size;
            this.x = Math.random() * animationCanvas.width;
            this.alpha = Math.random() * 0.7 + 0.3;
            this.speedY = Math.random() * 1 + 0.3;
        }
    }

    draw() {
        ctx.save();
        ctx.translate(this.x, this.y);
        ctx.rotate(this.rotation);
        ctx.globalAlpha = this.alpha;
        ctx.fillStyle = this.color;
        drawHeart(ctx, 0, 0, this.size); // S·ª≠ d·ª•ng h√†m drawHeart ƒë√£ ch·ªânh s·ª≠a
        ctx.restore();
    }

    isDead() {
        return false;
    }
}

// --- L·ªõp bong b√≥ng (Balloon) ---
class Balloon extends BaseObject {
    constructor(x, y, color) {
        const radius = Math.random() * 15 + 20;
        const speedY = -(Math.random() * 0.3 + 0.3);
        const speedX = (Math.random() - 0.5) * 0.2;
        const alpha = 1;
        const decay = 0.0015;
        super(x, y, color, speedX, speedY, alpha, decay, radius);
    }

    update() {
        super.update();
        this.x += Math.sin(this.y * 0.015) * 0.3;
    }

    draw() {
        ctx.save();
        ctx.globalAlpha = this.alpha;
        ctx.fillStyle = this.color;

        ctx.beginPath();
        ctx.ellipse(this.x, this.y, this.size * 0.7, this.size, 0, 0, Math.PI * 2);
        ctx.fill();

        ctx.beginPath();
        ctx.moveTo(this.x, this.y + this.size);
        ctx.lineTo(this.x - 2, this.y + this.size + 7);
        ctx.lineTo(this.x + 2, this.y + this.size + 7);
        ctx.closePath();
        ctx.fill();

        ctx.beginPath();
        ctx.moveTo(this.x, this.y + this.size + 7);
        ctx.lineTo(this.x + (Math.sin(this.y * 0.02) * 10), this.y + this.size + 30);
        ctx.strokeStyle = 'rgba(0, 0, 0, 0.7)';
        ctx.lineWidth = 0.8;
        ctx.stroke();

        ctx.restore();
    }

    isDead() {
        return super.isDead() || this.y < -this.size * 2;
    }
}


// --- H√†m ho·∫°t ·∫£nh ch√≠nh ---
function animate() {
    ctx.clearRect(0, 0, animationCanvas.width, animationCanvas.height);

    // TƒÉng t·∫ßn su·∫•t t·∫°o ph√°o hoa v√† gi·ªõi h·∫°n s·ªë l∆∞·ª£ng t·ªëi ƒëa
    if (Math.random() < 0.08 && fireworks.length < 18) { // TƒÉng t·∫ßn su·∫•t (0.05 -> 0.08) v√† gi·ªõi h·∫°n (12 -> 18)
        const x = Math.random() * animationCanvas.width;
        const y = animationCanvas.height + 20;
        const color = fireworkColors[Math.floor(Math.random() * fireworkColors.length)];
        fireworks.push(new Firework(x, y, color));
    }
    for (let i = fireworks.length - 1; i >= 0; i--) {
        fireworks[i].update();
        fireworks[i].draw();
        if (fireworks[i].isDead()) {
            fireworks.splice(i, 1);
        }
    }

    for (let i = particles.length - 1; i >= 0; i--) {
        particles[i].update();
        particles[i].draw();
        if (particles[i].isDead()) {
            particles.splice(i, 1);
        }
    }

    // TƒÉng s·ªë l∆∞·ª£ng sao t·ªëi ƒëa ƒë·ªÉ xu·∫•t hi·ªán nhi·ªÅu h∆°n
    while (stars.length < 60) {
        stars.push(new Star());
    }
    stars.forEach(star => {
        star.update();
        star.draw();
    });

    // TƒÉng s·ªë l∆∞·ª£ng tr√°i tim t·ªëi ƒëa ƒë·ªÉ xu·∫•t hi·ªán nhi·ªÅu h∆°n
    while (hearts.length < 50) {
        hearts.push(new Heart());
    }
    hearts.forEach(heart => {
        heart.update();
        heart.draw();
    });

    // TƒÉng t·∫ßn su·∫•t v√† s·ªë l∆∞·ª£ng bong b√≥ng
    if (Math.random() < 0.04 && balloons.length < 20) {
        const x = Math.random() * animationCanvas.width;
        const y = animationCanvas.height + 50;
        const color = balloonColors[Math.floor(Math.random() * balloonColors.length)];
        balloons.push(new Balloon(x, y, color));
    }
    for (let i = balloons.length - 1; i >= 0; i--) {
        balloons[i].update();
        balloons[i].draw();
        if (balloons[i].isDead()) {
            balloons.splice(i, 1);
        }
    }

    requestId = requestAnimationFrame(animate);
}

// --- X·ª≠ l√Ω s·ª± ki·ªán ---
function hienThiTrang2() {
    const nutBatNgo = document.getElementById("nutBatNgo");
    const trang2 = document.getElementById("trang2");
    const amThanh = document.getElementById("audioNen");

    animationCanvas = document.getElementById("animation-canvas");
    ctx = animationCanvas.getContext('2d');
    animationCanvas.width = window.innerWidth;
    animationCanvas.height = window.innerHeight;

    nutBatNgo.style.display = "none";
    trang2.style.display = "block"; /* Hi·ªÉn th·ªã ngay l·∫≠p t·ª©c nh∆∞ code g·ªëc */

    amThanh.play();
    animate();
}

window.addEventListener('load', () => {
    const nutBatNgo = document.getElementById("nutBatNgo");
    if (nutBatNgo) {
        nutBatNgo.addEventListener('click', hienThiTrang2);
    }
});

window.addEventListener('resize', () => {
    if (animationCanvas) {
        animationCanvas.width = window.innerWidth;
        animationCanvas.height = window.innerHeight;
    }
});
</script>
</body>
</html>
